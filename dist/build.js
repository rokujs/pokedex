(()=>{"use strict";const n="https://pokeapi.co/api/v2";async function t({id:t}){try{const e=await fetch(`${n}/pokemon/${t}/`);return await e.json()}catch(n){console.error(n)}}const e=async function({indexPage:e=0,limit:s=10}){const i=e;try{const e=await fetch(`${n}/pokemon/?limit=${s}&offset=${i}/`),a=await e.json();return Promise.all(a.results.map((({name:n})=>t({id:n}))))}catch(n){console.error(n)}},s=function({list:n}){return n.map((n=>{const t=n.name,e=n.types[0].type.name,s=n.sprites.front_default;return`\n    <div class="container_pokemon type_${e}">\n    <a href="/#/${n.id}">\n      <h3 class="title_pokemon">${t}</h3>\n      <div class="container_img">\n        <img src="${s}" class="img_${e}">\n      </div>\n      <div class="description_pokemon">\n      <span class="type_pokemon"><b>Type: </b></span><span class="type_pokemon" id="type">${e}\n      </span>\n      </div>\n      </a>\n    </div>\n`})).join("")};let i=0;async function a(){const n=document.getElementById("Main");console.log(i),i+=10;const t=await e({indexPage:i}),a=s({list:t});n.innerHTML+=a}const o=async function(){try{const n=await e({}),t=s({list:n});return function({distance:n="100px",index:t=0}){i=t,new IntersectionObserver(a,{rootMargin:n}).observe(document.getElementById("viewport"))}({index:0}),t}catch(n){console.error(n)}},c=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/",r={electric:!0,normal:!0,flying:!0,bug:!0,fairy:!0},l=function(){return"\n  <div>\n    <h2>Page not found</h2>\n  </div>\n  "};let d="";const p=document.getElementById("form"),m=document.getElementById("header"),u=document.getElementById("Main"),_=document.getElementById("results"),y=document.getElementById("viewport"),f={"/":o,"/:id":async function(){try{const n=c(),e=await t({id:n}),s=e.name,i=e.types[0].type.name,{"official-artwork":a}=e.sprites.other,o=a.front_default,l=e.id,d=function({types:n}){return n.map((n=>`\n  <li>${n.type.name}</li>\n  `)).join("")}({types:e.types}),p=function({abilities:n}){return n.map((({ability:n})=>`\n    <li>${n.name}</li>\n  `)).join("")}({abilities:e.abilities}),m=function({stats:n}){return n.map((({base_stat:n,stat:t})=>`\n    <li><span>${t.name}: </span>${n}</li>\n  `)).join("")}({stats:e.stats}),u=Boolean(r[i])?"pokemon__description_dark":"pokemon__description_light";return`\n    <div class="pokemon type_${i}">\n      <h3 class="pokemon__title ${u}">${s} #${l}</h3>\n      <div class="pokemon__image"><img src="${o}"/></div>\n      <div class="pokemon__description ${u}">\n        <div class="pokemon__description--type">\n          <span class="type__title">Types</span>\n          <ul class="type__list">${d}</ul>\n        </div>\n        <div class="pokemon__description--type">\n          <span class="abilities__title">Abilities</span>\n          <ul class="abilities__list">${p}</ul>\n        </div>\n        <div class="pokemon__description--stats">\n          <span class="stats__title">Stats</span>\n          <ul class="stats__list">${m}</ul>\n        </div>\n      </div>\n    </div>\n`}catch(n){return console.error(n),'\n  <span class="text__error">\n    Pokemon id or name not found\n  </span>\n  '}}},h=async function(){m.innerHTML='<h1 class="header__title"><a href="/#/">Pokedex</a></h1>',p.innerHTML='\n  <form id="dataForm" class="searched">\n        <input\n          id="dataPokemon"\n          type="text"\n          name="name"\n          class="searched__input"\n          placeholder="Search a pokemon for name or id"\n        />\n        <button class="searched__button" type="submit" >Search</button>\n      </form>\n  ',_.innerHTML=null;const n=document.getElementById("dataForm"),t=document.getElementById("dataPokemon");n.onsubmit=v,t.onchange=n=>function(n){d=n.target.value}(n);const e=c(),s=await(n=>n.length<=3?"/"===n?n:"/:id":`/${n}`)(e),i=f[s]?f[s]:l;u.innerHTML=await i(),y.style.display=f[s]===o?"block":"none"};async function v(n){n.preventDefault(),_.innerHTML=await async function({keyword:n}){try{let e=[];return e[0]=await t({id:n}),s({list:e})}catch(n){return console.error(n),'\n    <span class="text__error">\n      Pokemon id or name not found\n    </span>\n    '}}({keyword:d})}window.addEventListener("load",h),window.addEventListener("hashchange",h)})();